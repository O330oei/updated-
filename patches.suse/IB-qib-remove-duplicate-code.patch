From: "Gustavo A. R. Silva" <garsilva@embeddedor.com>
Date: Wed, 7 Jun 2017 15:42:02 -0500
Subject: IB/qib: remove duplicate code
Patch-mainline: v4.14-rc1
Git-commit: f201777a5382e0a4152342365e928c1de99815ad
References: bsc#1027067 FATE#322649

Remove duplicate code.

Addresses-Coverity-ID: 1226951
Signed-off-by: Gustavo A. R. Silva <garsilva@embeddedor.com>
Reviewed-by: Leon Romanovsky <leonro@mellanox.com>
Reviewed-by: Dennis Dalessandro <dennis.dalessandro@intel.com>
Signed-off-by: Doug Ledford <dledford@redhat.com>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 drivers/infiniband/hw/qib/qib_mad.c |    2 --
 1 file changed, 2 deletions(-)

--- a/drivers/infiniband/hw/qib/qib_mad.c
+++ b/drivers/infiniband/hw/qib/qib_mad.c
@@ -871,8 +871,6 @@ static int subn_set_portinfo(struct ib_s
 		ib_dispatch_event(&event);
 	}
 
-	ret = subn_get_portinfo(smp, ibdev, port);
-
 	/* restore re-reg bit per o14-12.2.1 */
 	pip->clientrereg_resv_subnetto |= clientrereg;
 
