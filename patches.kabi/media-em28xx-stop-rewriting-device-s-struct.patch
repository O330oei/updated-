From: Simon Schricker <sschricker@suse.de>
Date: Tue, 24 Sep 2019 14:35:39 +0200
Subject: [PATCH] media: em28xx: stop rewriting device's struct
Patch-mainline: never, kabi
References: bsc#1051510

Signed-off-by: Simon Schricker <sschricker@suse.de>
---
 drivers/media/usb/em28xx/em28xx.h |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

--- a/drivers/media/usb/em28xx/em28xx.h
+++ b/drivers/media/usb/em28xx/em28xx.h
@@ -618,8 +618,6 @@ struct em28xx {
 	unsigned char disconnected:1;	/* device has been diconnected */
 	unsigned int has_video:1;
 	unsigned int is_audio_only:1;
-	unsigned int is_webcam:1;
-	unsigned int has_msp34xx:1;
 	enum em28xx_int_audio_type int_audio_type;
 	enum em28xx_usb_audio_type usb_audio_type;
 
@@ -727,6 +725,11 @@ struct em28xx {
 	struct media_entity input_ent[MAX_EM28XX_INPUT];
 	struct media_pad input_pad[MAX_EM28XX_INPUT];
 #endif
+
+#ifndef __GENKSYMS__
+	unsigned int is_webcam:1;
+	unsigned int has_msp34xx:1;
+#endif
 };
 
 #define kref_to_dev(d) container_of(d, struct em28xx, ref)
